---
tags:
  - daily
---
## 紀錄
promtail 是 prometheus 加上 tail，用來搜集 logs，只要向下面那樣寫 logs 就可以搜集的樣子。
Service Discovery
用來決定要搜集哪些 log，也可以有多個 jobs。
```promtail.conf
scrape_configs:
  - job_name: local
    static_configs: # 好像是用來搜集本地的logs
      labels: 
        __path__: /opt/zeek/logs/*.log
```

Pipeline
將資料傳送給 loki 之前還會有 4 種 Stages 可以自由搭配，目的是進行額外的處理。
1. Parsing stages
2. Transform stages
3. Action stages
4. Filtering stages
## 學到的東西

## 明天要看的東西
